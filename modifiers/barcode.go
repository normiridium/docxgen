package modifiers

var BarCodeFunc func(string, ...string) RawXML

// BarCode — вставляет штрихкод по заданному значению прямо в документ.
//
// Пример использования:
//
//	{product.code|barcode:`code128`:`anchor`:`right`:`top`:`50mm*15mm`:`10%`:`2/5`:`border`}
//
// Формат:
//
//	{значение|barcode:[type]:[mode]:[align]:[valign]:[size]:[crop%]:[margins]:[border]}
//
// Параметры (все необязательные, порядок не важен):
//
//   - type — тип штрихкода.
//     Поддерживаются: "code128" (по умолчанию), "ean13".
//     Если не указано, используется "code128".
//
//   - mode — "anchor" (по умолчанию) или "inline".
//     "anchor" — плавающее размещение относительно текста (как картинка),
//     "inline" — встроенный элемент строки.
//
//   - align — "left", "center", "right".
//     Горизонтальное выравнивание для режима anchor (по умолчанию "right").
//
//   - valign — "top", "middle", "bottom".
//     Вертикальное выравнивание (по умолчанию "top").
//     "middle" автоматически преобразуется в "center".
//
//   - size — размеры штрихкода:
//
//   - "<N>mm" — ширина (высота вычисляется как 1/3 ширины, пропорция 3:1);
//
//   - "<W>mm*<H>mm" — заданы обе стороны явно;
//
//   - "<N>%" — ширина в процентах от ширины страницы;
//
//   - "<W>%*<H>mm" или наоборот — комбинированные размеры (проценты + миллиметры).
//
//   - <N>% — кроп (обрезка белых полей вокруг штрихкода).
//     Значение задаётся числом процентов (по умолчанию 0).
//
//   - margins — отступы от текста (для режима anchor), миллиметры.
//     Форматы:
//     "5/5"         — верх/низ = 5 мм, лево/право = 5 мм;
//     "5/3/5/3"     — top/right/bottom/left отдельно;
//     "5/3/7"       — top, боковые, низ.
//
//   - border — флаг, добавляет тонкую чёрную рамку (≈ 0.5 pt) вокруг штрихкода.
//
// Особенности:
//
//   - Штрихкод масштабируется пропорционально или по заданным размерам.
//   - Размеры могут быть заданы как абсолютные (мм) или относительные (% от страницы).
//   - Поддерживаются режимы "inline" и "anchor" — аналогично QR-коду.
//   - Поддерживается кроп белых полей и настройка внешних отступов.
//   - При использовании в пайплайнах (например, {code|compact|barcode})
//     штрихкод получает значение после всех предыдущих фильтров.
//
// Возвращает:
//
//	XML-фрагмент <w:drawing> с изображением штрихкода.
func BarCode(value string, opts ...string) RawXML {
	if BarCodeFunc == nil {
		return ""
	}
	return BarCodeFunc(value, opts...)
}
